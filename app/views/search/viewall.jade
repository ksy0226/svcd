extends ../layouts/default
block head
    title  1-4 처리된 내용검색
    // summernot
    link(href='/plugins/summernote/dist/summernote.css', rel='stylesheet')
    
    link(href='/plugins/switchery/switchery.min.css', rel='stylesheet')
    link(href='/assets/css/bootstrap.min.css', rel='stylesheet', type='text/css')
    link(href='/assets/css/core.css', rel='stylesheet', type='text/css')
    link(href='/assets/css/icons.css', rel='stylesheet', type='text/css')
    link(href='/assets/css/components.css', rel='stylesheet', type='text/css')
    link(href='/assets/css/pages.css', rel='stylesheet', type='text/css')
    link(href='/assets/css/menu_light.css', rel='stylesheet', type='text/css')
    link(href='/assets/css/responsive.css', rel='stylesheet', type='text/css')

    //첨부파일
    link(href='/vendor/fileupload/css/fileinput.css', media='all', rel='stylesheet', type='text/css')

    script(src='/assets/js/modernizr.min.js')
    // HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries
    // WARNING: Respond.js doesn't work if you view the page via file://
    //if lt IE 9
    script(src='https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js')
    script(src='https://oss.maxcdn.com/libs/respond.js/1.3.0/respond.min.js')

    // jQuery
    script(src='/assets/js/jquery.min.js')
    script(src='/assets/js/bootstrap.min.js')
    script(src='/assets/js/detect.js')
    script(src='/assets/js/fastclick.js')
    script(src='/assets/js/jquery.slimscroll.js')
    script(src='/assets/js/jquery.blockUI.js')
    script(src='/assets/js/waves.js')
    script(src='/assets/js/wow.min.js')
    script(src='/assets/js/jquery.nicescroll.js')
    script(src='/assets/js/jquery.scrollTo.min.js')
    script(src='/plugins/switchery/switchery.min.js')
    script(src='/plugins/bootstrap-tagsinput/dist/bootstrap-tagsinput.min.js')
    script(type='text/javascript', src='/plugins/multiselect/js/jquery.multi-select.js')
    script(type='text/javascript', src='/plugins/jquery-quicksearch/jquery.quicksearch.js')
    script(src='/plugins/select2/select2.min.js', type='text/javascript')
    script(src='/plugins/bootstrap-touchspin/dist/jquery.bootstrap-touchspin.min.js', type='text/javascript')
    script(src='/plugins/bootstrap-inputmask/bootstrap-inputmask.min.js', type='text/javascript')
    script(src='/plugins/moment/moment.js')
    script(src='/plugins/timepicker/bootstrap-timepicker.min.js')
    script(src='/plugins/mjolnic-bootstrap-colorpicker/dist/js/bootstrap-colorpicker.min.js')
    script(src='/plugins/bootstrap-datepicker/dist/js/bootstrap-datepicker.min.js')
    script(src='/plugins/bootstrap-daterangepicker/daterangepicker.js')
    // form summernote
    script(src='/plugins/summernote/dist/summernote.min.js')

    //첨부파일
    script(src='/vendor/fileupload/js/fileinput.js', type='text/javascript')
    script(src='/isu/js/incident/new.js', type='text/javascript')

    script(src='/isu/js/search/viewall.js', type='text/javascript')

    

    
    script.
      jQuery(document).ready(function() {
        alert(tVal);  
        //advance multiselect start
        $('#my_multi_select3').multiSelect({
            selectableHeader: "<input type='text' class='form-control search-input' autocomplete='off' placeholder='search...'>",
            selectionHeader: "<input type='text' class='form-control search-input' autocomplete='off' placeholder='search...'>",
            afterInit: function (ms) {
                var that = this,
                    $selectableSearch = that.$selectableUl.prev(),
                    $selectionSearch = that.$selectionUl.prev(),
                    selectableSearchString = '#' + that.$container.attr('id') + ' .ms-elem-selectable:not(.ms-selected)',
                    selectionSearchString = '#' + that.$container.attr('id') + ' .ms-elem-selection.ms-selected';
                that.qs1 = $selectableSearch.quicksearch(selectableSearchString)
                    .on('keydown', function (e) {
                        if (e.which === 40) {
                            that.$selectableUl.focus();
                            return false;
                        }
                    });
                that.qs2 = $selectionSearch.quicksearch(selectionSearchString)
                    .on('keydown', function (e) {
                        if (e.which == 40) {
                            that.$selectionUl.focus();
                            return false;
                        }
                    });
            },
            afterSelect: function () {
                this.qs1.cache();
                this.qs2.cache();
            },
            afterDeselect: function () {
                this.qs1.cache();
                this.qs2.cache();
            }
        });
        // Select2
        $(".select2").select2();
        $(".select2-limiting").select2({
            maximumSelectionLength: 2
        });
      });

      //Bootstrap-TouchSpin
      $(".vertical-spin").TouchSpin({
        verticalbuttons: true,
        buttondown_class: "btn btn-primary",
        buttonup_class: "btn btn-primary",
        verticalupclass: 'ion-plus-round',
        verticaldownclass: 'ion-minus-round'
      });
      var vspinTrue = $(".vertical-spin").TouchSpin({
        verticalbuttons: true
      });
      if (vspinTrue) {
        $('.vertical-spin').prev('.bootstrap-touchspin-prefix').remove();
      }
      $("input[name='demo1']").TouchSpin({
        min: 0,
        max: 100,
        step: 0.1,
        decimals: 2,
        boostat: 5,
        maxboostedstep: 10,
        buttondown_class: "btn btn-primary",
        buttonup_class: "btn btn-primary",
        postfix: '%'
      });
      $("input[name='demo2']").TouchSpin({
        min: -1000000000,
        max: 1000000000,
        stepinterval: 50,
        buttondown_class: "btn btn-primary",
        buttonup_class: "btn btn-primary",
        maxboostedstep: 10000000,
        prefix: '$'
      });
      $("input[name='demo3']").TouchSpin({
        buttondown_class: "btn btn-primary",
        buttonup_class: "btn btn-primary"
      });
      $("input[name='demo3_21']").TouchSpin({
        initval: 40,
        buttondown_class: "btn btn-primary",
        buttonup_class: "btn btn-primary"
      });
      $("input[name='demo3_22']").TouchSpin({
        initval: 40,
        buttondown_class: "btn btn-primary",
        buttonup_class: "btn btn-primary"
      });
      $("input[name='demo5']").TouchSpin({
        prefix: "pre",
        postfix: "post",
        buttondown_class: "btn btn-primary",
        buttonup_class: "btn btn-primary"
      });
      $("input[name='demo0']").TouchSpin({
        buttondown_class: "btn btn-primary",
        buttonup_class: "btn btn-primary"
      });
      // Time Picker
      jQuery('#timepicker').timepicker({
        defaultTIme : false
      });
      jQuery('#timepicker2').timepicker({
        showMeridian : false
      });
      jQuery('#timepicker3').timepicker({
        minuteStep : 15
      });


        //colorpicker start
        $('.colorpicker-default').colorpicker({
            format: 'hex'
        });
        $('.colorpicker-rgba').colorpicker();

        // Date Picker
        jQuery('#datepicker').datepicker();
        jQuery('#datepicker-autoclose').datepicker({
            autoclose: true,
            todayHighlight: true
        });
        jQuery('#datepicker-inline').datepicker();
        jQuery('#datepicker-multiple-date').datepicker({
            format: "mm/dd/yyyy",
            clearBtn: true,
            multidate: true,
            multidateSeparator: ","
        });
        jQuery('#date-range').datepicker({
            toggleActive: true
        });
        //Date range picker
        $('.input-daterange-datepicker').daterangepicker({
            buttonClasses: ['btn', 'btn-sm'],
            applyClass: 'btn-default',
            cancelClass: 'btn-primary'
        });
        $('.input-daterange-timepicker').daterangepicker({
            timePicker: true,
            format: 'MM/DD/YYYY h:mm A',
            timePickerIncrement: 30,
            timePicker12Hour: true,
            timePickerSeconds: false,
            buttonClasses: ['btn', 'btn-sm'],
            applyClass: 'btn-default',
            cancelClass: 'btn-primary'
        });
        $('.input-limit-datepicker').daterangepicker({
            format: 'MM/DD/YYYY',
            minDate: '06/01/2016',
            maxDate: '06/30/2016',
            buttonClasses: ['btn', 'btn-sm'],
            applyClass: 'btn-default',
            cancelClass: 'btn-primary',
            dateLimit: {
            days: 6
            }
        });
        $('#reportrange span').html(moment().subtract(29, 'days').format('MMMM D, YYYY') + ' - ' + moment().format('MMMM D, YYYY'));
        $('#reportrange').daterangepicker({
            format: 'MM/DD/YYYY',
            startDate: moment().subtract(29, 'days'),
            endDate: moment(),
            minDate: '01/01/2016',
            maxDate: '12/31/2016',
            dateLimit: {
            days: 60
        },
            showDropdowns: true,
            showWeekNumbers: true,
            timePicker: false,
            timePickerIncrement: 1,
            timePicker12Hour: true,
            ranges: {
            'Today': [moment(), moment()],
            'Yesterday': [moment().subtract(1, 'days'), moment().subtract(1, 'days')],
            'Last 7 Days': [moment().subtract(6, 'days'), moment()],
            'Last 30 Days': [moment().subtract(29, 'days'), moment()],
            'This Month': [moment().startOf('month'), moment().endOf('month')],
            'Last Month': [moment().subtract(1, 'month').startOf('month'), moment().subtract(1, 'month').endOf('month')]
            },
            opens: 'left',
            drops: 'down',
            buttonClasses: ['btn', 'btn-sm'],
            applyClass: 'btn-success',
            cancelClass: 'btn-default',
            separator: ' to ',
            locale: {
            applyLabel: 'Submit',
            cancelLabel: 'Cancel',
            fromLabel: 'From',
            toLabel: 'To',
            customRangeLabel: 'Custom',
            daysOfWeek: ['Su', 'Mo', 'Tu', 'We', 'Th', 'Fr', 'Sa'],
            monthNames: ['January', 'February', 'March', 'April', 'May', 'June', 'July', 'August', 'September', 'October', 'November', 'December'],
            firstDay: 1
            }
        }, function (start, end, label) {
            console.log(start.toISOString(), end.toISOString(), label);
            $('#reportrange span').html(start.format('MMMM D, YYYY') + ' - ' + end.format('MMMM D, YYYY'));
        });
script.
    jQuery(document).ready(function(){
        $('.summernote').summernote({
            height: 250,                 // set editor height
            minHeight: null,             // set minimum height of editor
            maxHeight: null,             // set maximum height of editor
            focus: false                 // set focus to editable area after initializing summernote
        });
        $('.inline-editor').summernote({
            airMode: true
        });
    });

        

block content
      // ==============================================================
      // Start right Content here
      // ==============================================================
      .content-page
        // Start content
        .content
          .container
            // Page-Title
            .row
              .col-sm-12
                .page-title-box
                  ol.breadcrumb.pull-right
                    li
                      a(href='#') Home
                    li
                      a(href='#') 문의 및 담당자
                    li.active 처리된 내용검색
                  h4.page-title 처리된 내용검색
            // start Search Area
            .row
              .col-lg-12
                .card-box
                  form.form-horizontal.group-border-dashed(action='#')
                    .form-group
                      label.col-sm-2.control-label 상위업무
                      .col-sm-3
                        select.form-control(id='higher_nm' name='higher_nm')
                          option(value ='*') 전체
                          - if (higherprocess.length > 0) {
                            - for( var i = 0 ; length = higherprocess.length > i ; i++ ){ //속도가 느리다고 알고 있음.
                              option(value ='#{higherprocess[i].higher_nm}') #{higherprocess[i].higher_nm}
                          - }
                        - } 
                      label.col-sm-2.control-label 하위업무
                      .col-sm-4
                        select.form-control(id='lower_nm' name='lower_nm')
                          option(value ='*') 전체
                          
                    .form-group
                      label.col-sm-2.control-label 검색기간
                      .col-sm-4
                        .input-group
                          .input-group
                            input.form-control(type='text', placeholder='yyyy-mm-dd' id='datepicker_rcd' name='datepicker_rcd' value=datepicker_rcd)
                            span.input-group-addon.bg-primary.b-0.text-white
                              i.ion-calendar
                      .col-sm-4
                        .input-group
                          .input-group
                            input.form-control(type='text', placeholder='yyyy-mm-dd' id='datepicker_rcd2' name='datepicker_rcd2' value=datepicker_rcd2)
                            span.input-group-addon.bg-primary.b-0.text-white
                              i.ion-calendar
                            
                    .form-group.m-b-0
                      label.col-sm-2.control-label 검색어
                      .col-sm-2
                        select.form-control(id='searchType' name='searchType')
                          option(value='title,content') 제목+내용
                          option(value='title') 제목
                          option(value='content') 내용
                      .col-sm-6
                        input.form-control(type='text' id='searchText' name='searchText' value=searchText)
                      .col-sm-2
                        button.btn.btn-primary(type='button' id='searchBtn') 조회
            .row
              .col-lg-12
                  .card-box
                    table.table.table-bordered
                      thead
                        tr
                          th(width='16%') 상위업무명
                          th(width='16%') 하위업무명
                          th 제목
                          th(width='15%') 등록일
                          th(width='15%') 담당자
                      tbody(id='more_list')
                    #more_view.row
            
            
                  .row
                    .col-sm-4
                      .dataTables_info Showing 1 to 10 of 57 entries
                    .col-sm-8
                      .dataTables_paginate.paging_simple_numbers.pull-right
                        ul.pagination
                          li.cpaginate_button.previous
                            a(href='#') Previous
                          li.cpaginate_button.active
                            a(href='#') 1
                          li.cpaginate_button
                            a(href='#') 2
                          li.cpaginate_button
                            a(href='#') 3
                          li.cpaginate_button
                            a(href='#') 4
                          li.cpaginate_button
                            a(href='#') 5
                          li.cpaginate_button
                            a(href='#') 6
                          li.cpaginate_button.next
                            a(href='#') Next
                  // end pagination
            // end Grid Area
          // end container
        // end content
        footer.footer.text-right
          | 2017 © ISU Group.
      // ==============================================================
      // End Right content here
      // ==============================================================
    // END wrapper    
    